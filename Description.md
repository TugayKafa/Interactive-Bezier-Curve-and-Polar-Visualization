# Описание на алгоритъма за интерполация с криви на Безие

## Основи на кривите на Безие
Кривите на Безие се определят чрез линейна комбинация от даден набор от контурни точки, като се използват **полиноми на Бернщайн**. Формулата за точка върху крива на Безие от \(n\)-ти ред (с \(n+1\) контурни точки) е:

$$B(t) = \sum_{i=0}^n b_i(t) P_i$$

където:
- $$(t \in [0, 1])$$ е параметърът, описващ позицията по кривата.
- $$(P_i = (x_i, y_i))$$ са контурните точки.
- $$b_i(t)$$ са полиномите на Бернщайн: $$b_i(t) = \binom{n}{i} (1-t)^{n-i} t^i$$
- $$\binom{n}{i} = \frac{n!}{i!(n-i)!})$$ е биномиалният коефициент.

## Линейна интерполация
Линейната интерполация между две точки $$P_1 = (x_1, y_1)$$ и $$P_2 = (x_2, y_2)$$ за дадено $$t$$ се изчислява като:
$$P(t) = (1-t) P_1 + t P_2$$

Координатно:
$$P(t) = \left( (1-t)x_1 + t x_2, \, (1-t)y_1 + t y_2 \right)$$

## Алгоритъм на de Casteljau
Алгоритъмът на de Casteljau е итеративен метод за построяване на точка върху крива на Безие. Процесът се състои от многократно прилагане на линейна интерполация върху контурните точки, докато остане само една точка. Стъпките са:

1. Започваме с контурните точки $$P_0, P_1, \dots, P_n$$.
2. На всяка итерация изчисляваме нов набор от точки чрез линейна интерполация между последователните точки:
$$P_i^{(k)}(t) = (1-t)P_i^{(k-1)} + tP_{i+1}^{(k-1)}$$
където:
   - $$k$$ е индексът на текущата итерация (започваме с $$k=1$$).
   - $$P_i^{(k-1)}$$ са точките от предишната итерация.

3. Продължаваме, докато остане само една точка $$P_0^{(n)}(t)$$, която е точката върху кривата за даденото $$t$$.

## Производна на кривата на Безие
Производната на крива на Безие може да бъде изразена като нова крива от по-нисък ред. Ако оригиналната крива е $$(B(t))$$, нейната производна е:
$$B'(t) = n \sum_{i=0}^{n-1} \left( P_{i+1} - P_i \right) b_i^{n-1}(t)$$
където:
- $$b_i^{n-1}(t)$$ са полиномите на Бернщайн от по-нисък ред $$(n-1\)$$.

## Поляри на кривата на Безие
Полярната крива е специална производна на Безие крива. Тя се изчислява чрез линейна интерполация на контурните точки при фиксиран \(t\). Процедурата е:

1. За всеки \(i\), намираме междинните точки:
$$Q_i(t) = (1-t)P_i + tP_{i+1}$$
2. Тези нови точки образуват кривата на полярната производна.

## Визуализация на кривата на Безие и полярите
- **Контурни линии**: Рисуваме правите между първоначалните контурни точки.
- **Крива на Безие**: Изчисляваме точки за множество стойности на $$t$$ $$(t = 0, 0.01, 0.02, \dots, 1\)$$ и ги свързваме.
- **Полярни криви**: Намираме точки чрез интерполация и рисуваме подобно на основната крива.

Алгоритъмът осигурява плавен преход между точки и демонстрира производните свойства на кривите.
